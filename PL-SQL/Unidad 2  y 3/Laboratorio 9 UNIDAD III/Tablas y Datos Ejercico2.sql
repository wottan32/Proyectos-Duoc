CREATE TABLE CLIENTE 
(id_cliente NUMBER(10) CONSTRAINT PK_CLIENTE PRIMARY KEY, 
 nombre_cliente VARCHAR2(50)  NOT NULL, 
 fecha_incorporacion DATE  NOT NULL);

 CREATE TABLE EMPLEADO
 (rut_empleado NUMBER(10) CONSTRAINT PK_EMPLEADO PRIMARY KEY,
  dv_rut_empleado VARCHAR2(1) NOT NULL,
  nombre_empleado VARCHAR2(50) NOT NULL,
  fecha_contrato DATE,
  sueldo_base   NUMBER(8));

CREATE TABLE FACTURA 
(nro_factura NUMBER(10) NOT NULL , 
 fecha_factura DATE  NOT NULL , 
 monto_total NUMBER(15)  NOT NULL , 
 id_cliente NUMBER(10) NOT NULL,
 rut_empleado NUMBER(10) NOT NULL,
 CONSTRAINT PK_FACTURA PRIMARY KEY (nro_factura),
 CONSTRAINT FK_FACTURA_CLIENTE FOREIGN KEY(id_cliente) REFERENCES CLIENTE(id_cliente),
 CONSTRAINT FK_FACTURA_EMPLEADO FOREIGN KEY(rut_empleado) REFERENCES EMPLEADO(rut_empleado)); 

CREATE TABLE IMPUESTO
(rut_empleado  NUMBER(10) CONSTRAINT PK_IMPUESTO PRIMARY KEY,
 dv_rut_empleado VARCHAR2(1) NOT NULL,
 sueldo_anual  NUMBER(15) NOT NULL,
 impuesto      NUMBER(8) NOT NULL,
 CONSTRAINT FK_IMPUESTO_EMPLEADO FOREIGN KEY(rut_empleado) REFERENCES EMPLEADO(rut_empleado));

CREATE TABLE BONIFICACIONES
(rut_empleado    NUMBER(10) NOT NULL,
 mes_pago        NUMBER(2) NOT NULL,
 anno_pago       NUMBER(4) NOT NULL,
 valor_comision  NUMBER(8) NOT NULL,
 valor_colacion  NUMBER(8) NOT NULL,
 CONSTRAINT PK_BONIFICACIONES PRIMARY KEY(rut_empleado, mes_pago, anno_pago),
 CONSTRAINT FK_BONIFICACIONES_EMPLEADO FOREIGN KEY(rut_empleado) REFERENCES EMPLEADO(rut_empleado));

CREATE TABLE PORCENTAJE_COMISION
(total_venta_inf   NUMBER(8) NOT NULL,
 total_venta_sup   NUMBER(8) NOT NULL,
 porc_comision        NUMBER(3,2) NOT NULL,
CONSTRAINT PK_PORCENTAJE_COMISION PRIMARY KEY(total_venta_inf));

INSERT INTO CLIENTE VALUES(3456,'Pedro Pérez Pereira','05/03/2012');
INSERT INTO CLIENTE VALUES(9862,'Sandra Soto Sevilla','01/10/2012');
INSERT INTO CLIENTE VALUES(7777,'Juan Tapia Molina','14/12/2013');
INSERT INTO CLIENTE VALUES(9999,'María Moreno Elgueta','05/05/2014');

INSERT INTO EMPLEADO VALUES(1111111, 1, 'Marcos Ramirez Ponce', '01/01/2000', 180000);
INSERT INTO EMPLEADO VALUES(2222222, 2, 'Marcela Rondini Flores', '05/01/2001',250000);
INSERT INTO EMPLEADO VALUES(3333333, 3, 'Claudio Armijo Buljan', '05/05/2014',120000);

INSERT INTO FACTURA VALUES(1,'03/04/2014',17280,3456, 1111111);
INSERT INTO FACTURA VALUES(2,'05/04/2014',658789,9862, 1111111);
INSERT INTO FACTURA VALUES(3,'05/04/2014',250000,9999, 2222222);
INSERT INTO FACTURA VALUES(4,'16/04/2014',298700,9862, 3333333);
INSERT INTO FACTURA VALUES(5,'21/05/2014',34560,3456, 1111111);
INSERT INTO FACTURA VALUES(6,'13/05/2014',457893,9862, 1111111);
INSERT INTO FACTURA VALUES(7,'05/05/2014',600000,9999, 1111111);
INSERT INTO FACTURA VALUES(8,'16/05/2014',558000,9862, 2222222);
INSERT INTO FACTURA VALUES(9,'16/05/2014',125987,7777, 2222222);

INSERT INTO PORCENTAJE_COMISION VALUES(100000,300000,0.1);
INSERT INTO PORCENTAJE_COMISION VALUES(300001,500000,0.15);
INSERT INTO PORCENTAJE_COMISION VALUES(500001,700000,0.2);
INSERT INTO PORCENTAJE_COMISION VALUES(700001,1500000,0.25);
COMMIT;